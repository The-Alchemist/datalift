<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
#load("project/resources")
#load_core_resources
	<title>$!esc.html($it.title) - #i18n("source.grid.title") - DataLift</title>
#css_links
</head>
<body>
#banner
	<div style="position:absolute;top:15px;right:15px;">
		<a href="${baseUri}/sparql" id="goto_sparql" class="button">#i18n("sparql.endpoint.link")</a>
		<a href="${baseUri}/project" id="goto_workspace" class="button">#i18n("project.workspace.link")</a>
	</div>

#set( $maxEntries = 5000 )
	<h3>#i18n("source.grid.desc") $!esc.html($it.title) ($maxEntries #i18n("source.grid.displayed_entries"))</h3>
	<table id="grid">
		<thead>
			<tr>
				<th class="dl-grid-header-column">#i18n("sparql.subject")</th>
				<th class="dl-grid-header-column">#i18n("sparql.predicate")</th>
				<th class="dl-grid-header-column">#i18n("sparql.object")</th>
			</tr>
		</thead>
		<tbody>
#foreach( $item in $it )
  #if( $foreach.count > $maxEntries ) #break #end
			<tr>
				<td>$!esc.html($item.subject)</td>
				<td>$!esc.html($item.predicate)</td>
				<td>$!esc.html($item.object)</td>
			</tr>
#end
		</tbody>
	</table>
	<div id="pagernav"></div>
	<div id="searchnav" style="display:none">
		#i18n("grid.search.value.label") <input type="search" id="gridsearch" placeholder="#i18n("grid.search.value.placeholder")" results="0" class="gridsearch" />
		#i18n("grid.search.column.label") <select id="searchColumn">
			<option value="all">#i18n("grid.search.column.option.all")</option>
			<option>#i18n("sparql.subject")</option>
			<option>#i18n("sparql.predicate")</option>
			<option>#i18n("sparql.object")</option>
		</select>
	</div>

#script_links
<script language="javascript" src="${baseUri}/project/static/js/jqgrid.common.js"></script>
<script type="text/javascript">
		$(function() {
			$("#goto_sparql").button();
			$("#goto_workspace").button();

			htmlTableTojQGrid();
		});
</script>
</body>
</html>
